import{h as U,i as B}from"./index-BfYElSN2.js";import{a as g}from"./element-plus-C9Ov05af.js";import{d as q,h as R,m as E,ag as d,aq as I,o as s,c,X as r,T as a,U as N,W as n,v as _,a as O,F as M,p as W,S as z,u as X,e as j}from"./@vue-CRBWlwId.js";const A={class:"system-menu-container"},G={style:{"font-size":"large"}},H={class:"dialog-footer"},Q=q({__name:"editDictItem",props:{title:String},setup(F,{expose:V}){const{proxy:b}=j(),p=R(null),e=E({isShowDialog:!1,loading:!1,ruleForm:{dictCode:0,dictType:"",dictLabel:"",dictValue:"",dictSort:0,status:"",remark:""},statusOptions:[{dictValue:"0",dictLabel:"正常"},{dictValue:"1",dictLabel:"禁用"}],deptOptions:[],ruleRules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}),y=l=>{l.dictCode&&l.dictCode!=null&&l.dictCode!=""?(e.ruleForm=l,e.ruleForm.dictCode=l.dictCode,e.ruleForm.dictLabel=l.dictLabel,e.ruleForm.dictValue=l.dictValue,e.ruleForm.dictSort=l.dictSort,e.ruleForm.dictType=l.dictType,e.ruleForm.status=l.status,e.ruleForm.remark=l.remark):(D(),e.ruleForm.dictType=l.dictType),e.isShowDialog=!0,e.loading=!1},m=l=>{b.mittBus.emit("onEditDictItemModule",l),e.isShowDialog=!1},S=()=>{m()},C=()=>{const l=X(p);l&&l.validate(o=>{o&&(e.loading=!0,e.ruleForm.dictCode!=null&&e.ruleForm.dictCode!=0?U("/sys/dictData",e.ruleForm).then(()=>{g.success("修改成功"),e.loading=!1,m(e.ruleForm)}).finally(()=>{e.loading=!1}):B("/sys/dictData",e.ruleForm).then(()=>{g.success("新增成功"),e.loading=!1,m(e.ruleForm)}).finally(()=>{e.loading=!1}))})},D=()=>{e.ruleForm.dictCode=0,e.ruleForm.dictLabel="",e.ruleForm.dictValue="",e.ruleForm.dictSort=0,e.ruleForm.dictType="",e.ruleForm.status="0",e.ruleForm.remark=""};return V({openDialog:y}),(l,o)=>{const u=d("el-input"),i=d("el-form-item"),k=d("el-input-number"),v=d("el-radio"),L=d("el-radio-group"),T=d("el-form"),f=d("el-button"),x=d("el-dialog"),h=I("drag");return s(),c("div",A,[r(x,{modelValue:e.isShowDialog,"onUpdate:modelValue":o[6]||(o[6]=t=>e.isShowDialog=t),width:"769px",center:""},{title:a(()=>[N((s(),c("div",G,[n(_(F.title),1)])),[[h,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:a(()=>[O("span",H,[r(f,{onClick:S},{default:a(()=>[n("取 消")]),_:1}),r(f,{type:"primary",onClick:C,loading:e.loading},{default:a(()=>[n("编 辑")]),_:1},8,["loading"])])]),default:a(()=>[r(T,{model:e.ruleForm,rules:e.ruleRules,ref_key:"ruleFormRef",ref:p,"label-width":"80px"},{default:a(()=>[r(i,{label:"字典类型"},{default:a(()=>[r(u,{modelValue:e.ruleForm.dictType,"onUpdate:modelValue":o[0]||(o[0]=t=>e.ruleForm.dictType=t),disabled:!0},null,8,["modelValue"])]),_:1}),r(i,{label:"数据标签",prop:"dictLabel"},{default:a(()=>[r(u,{modelValue:e.ruleForm.dictLabel,"onUpdate:modelValue":o[1]||(o[1]=t=>e.ruleForm.dictLabel=t),placeholder:"请输入数据标签"},null,8,["modelValue"])]),_:1}),r(i,{label:"数据键值",prop:"dictValue"},{default:a(()=>[r(u,{modelValue:e.ruleForm.dictValue,"onUpdate:modelValue":o[2]||(o[2]=t=>e.ruleForm.dictValue=t),placeholder:"请输入数据键值"},null,8,["modelValue"])]),_:1}),r(i,{label:"显示排序",prop:"dictSort"},{default:a(()=>[r(k,{modelValue:e.ruleForm.dictSort,"onUpdate:modelValue":o[3]||(o[3]=t=>e.ruleForm.dictSort=t),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),r(i,{label:"状态",prop:"status"},{default:a(()=>[r(L,{modelValue:e.ruleForm.status,"onUpdate:modelValue":o[4]||(o[4]=t=>e.ruleForm.status=t)},{default:a(()=>[(s(!0),c(M,null,W(e.statusOptions,t=>(s(),z(v,{key:t.dictValue,label:t.dictValue},{default:a(()=>[n(_(t.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(i,{label:"备注",prop:"remark"},{default:a(()=>[r(u,{modelValue:e.ruleForm.remark,"onUpdate:modelValue":o[5]||(o[5]=t=>e.ruleForm.remark=t),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}});export{Q as _};
