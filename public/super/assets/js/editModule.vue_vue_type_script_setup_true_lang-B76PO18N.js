import{h as S,i as C}from"./index-BfYElSN2.js";import{a as _}from"./element-plus-C9Ov05af.js";import{d as U,h as B,m as L,ag as s,aq as R,o as i,c,X as a,T as r,U as q,W as u,v as g,a as E,F as M,p as O,S as W,u as w,e as z}from"./@vue-CRBWlwId.js";const P={class:"system-menu-container"},X={style:{"font-size":"large"}},j={class:"dialog-footer"},J=U({__name:"editModule",props:{title:{type:String,default:()=>""}},setup(F,{expose:y}){const{proxy:V}=z(),p=B(null),e=L({isShowDialog:!1,loading:!1,ruleForm:{dictId:0,dictName:"",dictType:"",status:"",remark:""},statusOptions:[{dictValue:"0",dictLabel:"正常"},{dictValue:"1",dictLabel:"禁用"}],deptOptions:[],ruleRules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}),b=l=>{l.dictId&&l.dictId!=null&&l.dictId!=""?(e.ruleForm=l,e.ruleForm.dictId=l.dictId,e.ruleForm.dictName=l.dictName,e.ruleForm.dictType=l.dictType,e.ruleForm.status=l.status,e.ruleForm.remark=l.remark):D(),e.isShowDialog=!0,e.loading=!1},n=l=>{V.mittBus.emit("onEditPostModule",l),e.isShowDialog=!1},k=()=>{n()},v=()=>{const l=w(p);l&&l.validate(o=>{o&&(e.loading=!0,e.ruleForm.dictId!=null&&e.ruleForm.dictId!=0?S("/sys/dict",e.ruleForm).then(()=>{_.success("修改成功"),e.loading=!1,n(e.ruleForm)}).finally(()=>{e.loading=!1}):C("/sys/dict",e.ruleForm).then(()=>{_.success("新增成功"),e.loading=!1,n(e.ruleForm)}).finally(()=>{e.loading=!1}))})},D=()=>{e.ruleForm.dictId=0,e.ruleForm.dictName="",e.ruleForm.dictType="",e.ruleForm.status="0",e.ruleForm.remark=""};return y({openDialog:b}),(l,o)=>{const m=s("el-input"),d=s("el-form-item"),h=s("el-radio"),N=s("el-radio-group"),I=s("el-form"),f=s("el-button"),T=s("el-dialog"),x=R("drag");return i(),c("div",P,[a(T,{modelValue:e.isShowDialog,"onUpdate:modelValue":o[4]||(o[4]=t=>e.isShowDialog=t),width:"769px",center:""},{title:r(()=>[q((i(),c("div",X,[u(g(F.title),1)])),[[x,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:r(()=>[E("span",j,[a(f,{onClick:k},{default:r(()=>[u("取 消")]),_:1}),a(f,{type:"primary",onClick:v,loading:e.loading},{default:r(()=>[u("编 辑")]),_:1},8,["loading"])])]),default:r(()=>[a(I,{model:e.ruleForm,rules:e.ruleRules,ref_key:"ruleFormRef",ref:p,"label-width":"80px"},{default:r(()=>[a(d,{label:"字典名称",prop:"dictName"},{default:r(()=>[a(m,{modelValue:e.ruleForm.dictName,"onUpdate:modelValue":o[0]||(o[0]=t=>e.ruleForm.dictName=t),placeholder:"请输入字典名称"},null,8,["modelValue"])]),_:1}),a(d,{label:"字典类型",prop:"dictType"},{default:r(()=>[a(m,{modelValue:e.ruleForm.dictType,"onUpdate:modelValue":o[1]||(o[1]=t=>e.ruleForm.dictType=t),placeholder:"请输入字典类型"},null,8,["modelValue"])]),_:1}),a(d,{label:"状态",prop:"status"},{default:r(()=>[a(N,{modelValue:e.ruleForm.status,"onUpdate:modelValue":o[2]||(o[2]=t=>e.ruleForm.status=t)},{default:r(()=>[(i(!0),c(M,null,O(e.statusOptions,t=>(i(),W(h,{key:t.dictValue,label:t.dictValue},{default:r(()=>[u(g(t.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"备注",prop:"remark"},{default:r(()=>[a(m,{modelValue:e.ruleForm.remark,"onUpdate:modelValue":o[3]||(o[3]=t=>e.ruleForm.remark=t),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}});export{J as _};
