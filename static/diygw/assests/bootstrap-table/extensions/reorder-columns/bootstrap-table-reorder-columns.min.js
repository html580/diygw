!function(e){"use strict";var o=function(){Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw new TypeError;var o=Object(this),t=o.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],n=arguments.length>=2?arguments[1]:void 0,i=0;t>i;i++)if(i in o){var l=o[i];e.call(n,l,i,o)&&r.push(l)}return r})};e.extend(e.fn.bootstrapTable.defaults,{reorderableColumns:!1,maxMovingRows:10,onReorderColumn:function(){return!1},dragaccept:null}),e.extend(e.fn.bootstrapTable.Constructor.EVENTS,{"reorder-column.bs.table":"onReorderColumn"});var t=e.fn.bootstrapTable.Constructor,r=t.prototype.initHeader,n=t.prototype.toggleColumn,i=t.prototype.toggleView,l=t.prototype.resetView;t.prototype.initHeader=function(){r.apply(this,Array.prototype.slice.apply(arguments)),this.options.reorderableColumns&&this.makeRowsReorderable()},t.prototype.toggleColumn=function(){n.apply(this,Array.prototype.slice.apply(arguments)),this.options.reorderableColumns&&this.makeRowsReorderable()},t.prototype.toggleView=function(){i.apply(this,Array.prototype.slice.apply(arguments)),this.options.reorderableColumns&&(this.options.cardView||this.makeRowsReorderable())},t.prototype.resetView=function(){l.apply(this,Array.prototype.slice.apply(arguments)),this.options.reorderableColumns&&this.makeRowsReorderable()},t.prototype.makeRowsReorderable=function(){var t=this;try{e(this.$el).dragtable("destroy")}catch(e){}e(this.$el).dragtable({maxMovingRows:t.options.maxMovingRows,dragaccept:t.options.dragaccept,clickDelay:200,beforeStop:function(){var r=[],n=[],i=[],l=[],s=-1,a=[];if(t.$header.find("th").each(function(){r.push(e(this).data("field")),n.push(e(this).data("formatter"))}),r.length<t.columns.length){l=e.grep(t.columns,function(e){return!e.visible});for(var p=0;p<l.length;p++)r.push(l[p].field),n.push(l[p].formatter)}for(var p=0;p<r.length;p++)s=e.fn.bootstrapTable.utils.getFieldIndex(t.columns,r[p]),-1!==s&&(i.push(t.columns[s]),t.columns.splice(s,1));t.columns=t.columns.concat(i),o(),e.each(t.columns,function(e,o){var r=!1,n=o.field;t.options.columns[0].filter(function(e){return!(!r&&e.field==n&&(a.push(e),r=!0,1))})}),t.options.columns[0]=a,t.header.fields=r,t.header.formatters=n,t.resetView(),t.trigger("reorder-column",r)}})}}(jQuery);