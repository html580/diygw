import{h,i as B,_ as S}from"./index-BfYElSN2.js";import{a as D}from"./element-plus-C9Ov05af.js";import{h as I,m as U,$ as E,u as R,e as q,ag as a,aq as M,o as F,c as _,X as t,T as l,U as O,W as f,v as V,a as w,F as L,p as T,S as W}from"./@vue-CRBWlwId.js";import"./pinia-BTdriGDs.js";import"./vue-router-B8aOcPyE.js";import"./vue-i18n-Bpsr_IBC.js";import"./@intlify-Bn43FqoL.js";import"./vue-DEEPytDe.js";import"./js-cookie-Cz0CWeBA.js";import"./@element-plus-tztFf6PP.js";import"./nprogress-B-yuMcN-.js";import"./axios-Ds1py3KQ.js";import"./lodash-CnNYTNB6.js";import"./mitt-DJ65BbbF.js";import"./file-saver-B2L8jjWN.js";import"./diygw-datav-DLF-c6uN.js";import"./lodash-es-CW97kIZl.js";import"./@vueuse-BIgT8fdk.js";import"./@popperjs-CER6Qr1e.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-r8A8W4xn.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-DwF5HINA.js";import"./escape-html-HzfLCvW4.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DuJrlvqV.js";const $={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:r}=q(),u=I(null),e=U({isShowDialog:!1,loading:!1,ruleForm:{postId:0,postName:"",postCode:"",orderNum:0,status:"",remark:""},statusOptions:[],deptOptions:[],ruleRules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}),p=o=>{o.postId&&o.postId!=null&&o.postId!=0?(e.ruleForm=o,e.ruleForm.postId=o.postId,e.ruleForm.postName=o.postName,e.ruleForm.postCode=o.postCode,e.ruleForm.orderNum=o.orderNum,e.ruleForm.status=o.status,e.ruleForm.remark=o.remark):m(),e.isShowDialog=!0,e.loading=!1,r.getDicts("sys_normal_disable").then(d=>{e.statusOptions=d.rows})},n=o=>{r.mittBus.emit("onEditPostModule",o),e.isShowDialog=!1},c=()=>{n()},i=()=>{const o=R(u);o&&o.validate(d=>{d&&(e.loading=!0,e.ruleForm.postId!=null&&e.ruleForm.postId!=0?h("/sys/post",e.ruleForm).then(g=>{D.success("修改成功"),e.loading=!1,n(e.ruleForm)}):B("/sys/post",e.ruleForm).then(g=>{D.success("新增成功"),e.loading=!1,n(e.ruleForm)}))})},m=()=>{e.ruleForm.postId=0,e.ruleForm.postName="",e.ruleForm.postCode="",e.ruleForm.orderNum=0,e.ruleForm.status="0",e.ruleForm.remark=""};return{ruleFormRef:u,openDialog:p,closeDialog:n,onCancel:c,initForm:m,onSubmit:i,...E(e)}}},z={class:"system-menu-container"},A={style:{"font-size":"large"}},P={class:"dialog-footer"};function X(r,u,e,p,n,c){const i=a("el-input"),m=a("el-form-item"),o=a("el-col"),d=a("el-input-number"),g=a("el-radio"),b=a("el-radio-group"),N=a("el-row"),k=a("el-form"),C=a("el-button"),y=a("el-dialog"),v=M("drag");return F(),_("div",z,[t(y,{modelValue:r.isShowDialog,"onUpdate:modelValue":u[5]||(u[5]=s=>r.isShowDialog=s),width:"769px",center:""},{title:l(()=>[O((F(),_("div",A,[f(V(e.title),1)])),[[v,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:l(()=>[w("span",P,[t(C,{onClick:p.onCancel},{default:l(()=>[f("取 消")]),_:1},8,["onClick"]),t(C,{type:"primary",onClick:p.onSubmit,loading:r.loading},{default:l(()=>[f("编 辑")]),_:1},8,["onClick","loading"])])]),default:l(()=>[t(k,{model:r.ruleForm,rules:r.ruleRules,ref:"ruleFormRef","label-width":"80px"},{default:l(()=>[t(N,{gutter:35},{default:l(()=>[t(o,{span:24},{default:l(()=>[t(m,{label:"岗位名称",prop:"postName"},{default:l(()=>[t(i,{modelValue:r.ruleForm.postName,"onUpdate:modelValue":u[0]||(u[0]=s=>r.ruleForm.postName=s),placeholder:"请输入岗位名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{span:24},{default:l(()=>[t(m,{label:"岗位编码",prop:"postCode"},{default:l(()=>[t(i,{modelValue:r.ruleForm.postCode,"onUpdate:modelValue":u[1]||(u[1]=s=>r.ruleForm.postCode=s),placeholder:"请输入编码名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{span:24},{default:l(()=>[t(m,{label:"岗位顺序",prop:"orderNum"},{default:l(()=>[t(d,{modelValue:r.ruleForm.orderNum,"onUpdate:modelValue":u[2]||(u[2]=s=>r.ruleForm.orderNum=s),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{span:24},{default:l(()=>[t(m,{label:"岗位状态",prop:"status"},{default:l(()=>[t(b,{modelValue:r.ruleForm.status,"onUpdate:modelValue":u[3]||(u[3]=s=>r.ruleForm.status=s)},{default:l(()=>[(F(!0),_(L,null,T(r.statusOptions,s=>(F(),W(g,{key:s.dictValue,label:s.dictValue},{default:l(()=>[f(V(s.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(o,{span:24},{default:l(()=>[t(m,{label:"备注",prop:"remark"},{default:l(()=>[t(i,{modelValue:r.ruleForm.remark,"onUpdate:modelValue":u[4]||(u[4]=s=>r.ruleForm.remark=s),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}const ce=S($,[["render",X]]);export{ce as default};
